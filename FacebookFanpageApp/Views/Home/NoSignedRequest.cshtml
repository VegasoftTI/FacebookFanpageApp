@model FacebookFanpageApp.Models.FacebookModel
@{
    ViewBag.Title = "Hint";
}
<div>
    <p style="text-align: right; padding: 0 10px;">
        <span id="enToggle"><a href="#">English</a></span> | <span id="deToggle"><a href="#">Deutsch</a></span>
    </p>
</div>
<div id="en">
    <h2>This is a Facebook Page Tab application</h2>
    <p>
        It is ment to run in the Facebook environment.
    </p>
    <p>
        For skiping this view and redirecting to Facebook page just set in web.config:
            <pre>
&lt;appSettings&gt;
    ...
    &lt;add key="fb_show_app_start_view_without_facebook" value="false" /&gt;
    ...
&lt;/appSettings&gt; 
            </pre>
    </p>
    <p>The following Facebokk App settings are necessary:</p>
    <a href="https://developers.facebook.com/apps/" target="_blank"><img src="~/Images/fb-settings.png" class="dashed-border" alt="facebook settings" /></a>

    <p>
        Before you click the follwing link you have to configure the <a href="https://developers.facebook.com/apps/" target="_blank">Facebook App</a> appropriately.
    </p>
    <p>
        <a href="@Model.FanPageUrl" target="_blank">continue with Facebook page</a>
    </p>
</div>

<div id="de" style="display: none;">
    <h2>Dies ist eine Facebook Seitenreiter-Anwendung</h2>
    <p>
        Sie benötigt die Facebook-Umgebung! 
    </p>
    <p>
        Um diese Seite zu überspringen und gleich auf Facebook weiter zu leiten, setzten Sie in der web.config:
            <pre>
&lt;appSettings&gt;
    ...
    &lt;add key="fb_show_app_start_view_without_facebook" value="false" /&gt;
    ...
&lt;/appSettings&gt; 
            </pre>
    </p>
    <p>Folgende Einstellungen sind auf Facebook nötig:</p>
    <a href="https://developers.facebook.com/apps/" target="_blank"><img src="~/Images/fb-settings-de.png" class="dashed-border" alt="facebook settings" /></a>

    <p>
        Bevor Sie den folgenden Link klicken müssen Sie natürlich eine <a href="https://developers.facebook.com/apps/" target="_blank">Facebook App</a> entsprechend konfiguriert haben.
    </p>
    <p>
        <a href="@Model.FanPageUrl" target="_blank">weiter auf Facebook</a>
    </p>
</div>

@section scripts{
    <script>
        (function ($) {
            $(document).ready(function () {
                var userLang = navigator.language || navigator.userLanguage;
                
                function toggle(lang) {
                    if (lang == 'de') {
                        $('#en').hide();
                        $('#de').show();
                        $('#deToggle a').css({ 'font-weight' : 'bold' });
                        $('#enToggle a').css({ 'font-weight' : 'normal' });
                    } else {
                        $('#de').hide();
                        $('#en').show();
                        $('#enToggle a').css({ 'font-weight' : 'bold' });
                        $('#deToggle a').css({ 'font-weight' : 'normal' });
                    }
                }
                if (userLang.indexOf("de") > -1) {
                    toggle('de');
                } else {
                    toggle('en');
                }

                $('#deToggle a').click(function (e) {
                    e.preventDefault();
                    toggle('de');
                });
                $('#enToggle a').click(function (e) {
                    e.preventDefault();
                    toggle('en');
                });
            });
        })(jQuery);

    </script>

}